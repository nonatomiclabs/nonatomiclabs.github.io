---
import Layout from "../layouts/Layout.astro";
import PostSummary from "../components/PostSummary.astro";

const allPosts = await Astro.glob(
  // @ts-ignore
  ["../pages/posts/*.md", "../pages/posts/*.mdx"]
);
allPosts.reverse();
---

<Layout title="nonatomic.blog">
  {
    allPosts.map((post, index) => (
      <>
        {index !== 0 && <hr />}
        <PostSummary
          href={post.url}
          summary={post.frontmatter.summary}
          title={post.frontmatter.title}
          date={post.frontmatter.date}
          tags={post.frontmatter.tags}
        />
      </>
    ))
  }
</Layout>

<style>
  hr {
    margin: 20px 0;
  }
</style>
